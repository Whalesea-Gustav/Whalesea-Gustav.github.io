<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="whalesea`s blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="life is short, fuck the world">
<meta property="og:type" content="website">
<meta property="og:title" content="whalesea`s blog">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="whalesea`s blog">
<meta property="og:description" content="life is short, fuck the world">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="whalesea`s blog">
<meta name="twitter:description" content="life is short, fuck the world">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/5/"/>





  <title> whalesea`s blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">whalesea`s blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">willsee</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/2018/09/22/创建对象/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="YNG`s Not Gu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="whalesea`s blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/2018/09/22/创建对象/" itemprop="url">
                  创建对象
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-22T10:10:39+08:00">
                2018-09-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/网络编程/" itemprop="url" rel="index">
                    <span itemprop="name">网络编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h1 id="a-protype-based-language"><a href="#a-protype-based-language" class="headerlink" title="a protype-based language"></a>a protype-based language</h1><p>JavaScript is often described as <strong>a prototype-based language</strong> — each object has a prototype object<br>这些原型作为模板对象，其属性被创建的对象继承<br>一个对象的原型也有原型，这构成了一个<abbr titile="protypechain">原型链</abbr>。 当访问对象的属性，方法时，首先在该对象上寻找方法，如果没有找到，就上溯到原型对象中查找，如果遍历原型链也没有找到，则返回undefined<br>以<code>Array</code>为例，查找属性的原型链为<br><strong><em>var arr = [..]    ===&gt;  Array.prototype   ===&gt; Object.prototype ===&gt; null</em></strong><br><code>Array.prototype</code>定义了<code>indexOf()</code>，<code>shift()</code>等方法，因此可以在所有<code>Array</code>对象中调用这些方法</p>
<hr>
<h1 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h1><p>JavaScript可以利用 <strong>构造函数</strong> 来创建对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Stdudent</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.hello = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(<span class="string">"Hello, "</span> + <span class="keyword">this</span>.name + <span class="string">"!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string">在JavaScript中，可以使用`</span><span class="keyword">new</span><span class="string">`关键字来调用这个函数，并 **返回一个对象**</span></span><br><span class="line"><span class="string">(new Date() : new Map() : new Set() : new RegExp())</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>javascript</span><br><span class="line"><span class="keyword">var</span> xiaoming = <span class="keyword">new</span> Student(<span class="string">"小明"</span>);</span><br><span class="line">xiaoming.name;     <span class="comment">// "小明"</span></span><br><span class="line">xiaoming.hello();    <span class="comment">// "hello, 小明!"</span></span><br></pre></td></tr></table></figure>
<p>如果不使用<code>new</code>，就是一个普通的函数，返回<code>undefined</code>； 如果使用<code>new</code>,函数成为构造函数，this指向新创建的对象，并默认返回this<br>xiaoming的原型链<br><strong><em>xioaming  ===&gt; Student.prototype ===&gt; Object.prototype ===&gt; null</em></strong><br> 如果又通过构造函数创建了其他对象，他们的原型相同<br><code>new Student()</code> 创建的对象还从原型上继承一个<code>constructor</code>属性，其等于构造函数<code>Student()</code>本身</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiaoming.constructor === Student.prototype.constructor;      <span class="comment">// true</span></span><br><span class="line">Student.prototype.constructor === Student;                            <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.getPrototypeOf(xiaoming) === Student.prototype;       <span class="comment">//true</span></span><br><span class="line">xiaoming <span class="keyword">instanceof</span> Student                                                     <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p><img src="http://muicoder.github.io/liaoxuefeng/javascript/images/B8293B19F4C954A0A8A69B7F11FA3555.png" alt="relationship"></p>
<hr>
<h1 id="shared-method"><a href="#shared-method" class="headerlink" title="shared method"></a>shared method</h1><p>构造函数定义的方法，虽然可能代码相同，但是在两个构造出的对象中，函数不等<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xiaoming.name;                                  <span class="comment">// '小明'</span></span><br><span class="line">xiaohong.name;                                  <span class="comment">// '小红'</span></span><br><span class="line">xiaoming.hello;                                    <span class="comment">// function</span></span><br><span class="line">xiaohong.hello;                                    <span class="comment">// function</span></span><br><span class="line">xiaoming.hello === xiaohong.hello;     <span class="comment">//false</span></span><br></pre></td></tr></table></figure></p>
<p>要创建一个共享的方法(类似于类的方法)，可以在原型上定义，这里就是在<code>Student.prototype</code>中定义</p>
<p><img src="http://muicoder.github.io/liaoxuefeng/javascript/images/B8293B19F4C954A0A8A69B7F11FA3555.png" alt="shared methods"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">Student.prototype.hello = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'Hello, '</span> + <span class="keyword">this</span>.name + <span class="string">'!'</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/2018/09/22/JSON/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="YNG`s Not Gu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="whalesea`s blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/2018/09/22/JSON/" itemprop="url">
                  JSON in JavaScript
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-22T02:00:00+08:00">
                2018-09-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/网络编程/" itemprop="url" rel="index">
                    <span itemprop="name">网络编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h1 id="JSON标准"><a href="#JSON标准" class="headerlink" title="JSON标准"></a>JSON标准</h1><p>JSON实际上是JavaScript的一个子集，是一种数据交换格式，有如下的数据类型</p>
<ul>
<li>number:          和JavaScri中<code>number</code>一致</li>
<li>boolean:         <code>true</code>和·<code>false</code></li>
<li>string:          <code>string</code></li>
<li>null:            <code>null</code><br>+array:            <code>Array</code>的表达方式<code>[...]</code></li>
<li>object:          <code>object</code>的表达方式 <code>{...}</code><br>JSON字符集必须是<strong>UTF-8</strong>，表示多语言就没有问题了。为了统一解析，JSON的字符串规定必须用双引号<code>&quot;&quot;</code>，<strong>Object的键</strong>也必须用双引号<code>&quot;&quot;</code></li>
</ul>
<p>JSON应用过程 </p>
<ol>
<li>把任何JavaScript值序列化成为一个JSON格式的字符串，然后通过网络进行传输</li>
<li>把接受到的JSON格式字符串反序列化为一个JavaScript值，就可以在JS中直接应用</li>
</ol>
<hr>
<h1 id="序列化-serialization"><a href="#序列化-serialization" class="headerlink" title="序列化 serialization"></a>序列化 serialization</h1><p>syntax</p>
<blockquote>
<p> JSON.stringify(value[, replacer[, space]])</p>
</blockquote>
<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><ul>
<li><strong>value</strong>    : 需要convert成JSONstring的值</li>
<li><strong>replacer</strong> : A <strong>function</strong> that <strong>alters the behavior of the stringification process</strong>, or <strong>an array of String and Number objects</strong> that serve as <strong>a whitelist for selecting/filtering the properties of the value object</strong> to be included in the JSON string. If this value is null or not provided, all properties of the object are included in the resulting JSON string</li>
<li><strong>space</strong>    : A String or Number object that’s used to <strong>insert white space</strong> into the output JSON string for <strong>readability</strong> purposes.<strong>If this is a Number</strong>, it indicates the number of space characters to use as white space; this number is capped at 10 (if it is greater, the value is just 10). Values less than 1 indicate that no space should be used.<strong>If this is a String</strong>, the string (or the first 10 characters of the string, if it’s longer than that) is used as white space. If this parameter is not provided (or is null), no white space is used</li>
</ul>
<p>需要注意的几点</p>
<ol>
<li>replacer 参数，replacer需要接收key，value两个参数，返回value的值，replacer以一种map的方式处理对象，并返回JSON字符串</li>
<li>replacer 作用于序列化的value是<strong>recursive</strong>。会影响例如对象中的对象，<code>array</code>中的<code>array</code>。</li>
<li>replacer 如果作用于对象，如果返回的是<code>undefined</code>，该对象的属性将不会被包含在JSON字符串中，其起到一个过滤的作用(filte out)</li>
<li>space    自动在对象每个属性后面添加换行符，前面的缩进由传递进去的字符或者数字个space构成<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">replacer</span>(<span class="params">key, value</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Filtering out properties</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value === <span class="string">'string'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = &#123;<span class="attr">foundation</span>: <span class="string">'Mozilla'</span>, <span class="attr">model</span>: <span class="string">'box'</span>, <span class="attr">week</span>: <span class="number">45</span>, <span class="attr">transport</span>: <span class="string">'car'</span>, <span class="attr">month</span>: <span class="number">7</span>&#125;;</span><br><span class="line"><span class="built_in">JSON</span>.stringify(foo, replacer);</span><br><span class="line"><span class="comment">// '&#123;"week":45,"month":7&#125;'</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line">    name: <span class="string">'小明'</span>,</span><br><span class="line">    age: <span class="number">14</span>,</span><br><span class="line">    gender: <span class="literal">true</span>,</span><br><span class="line">    height: <span class="number">1.65</span>,</span><br><span class="line">    grade: <span class="literal">null</span>,</span><br><span class="line">    <span class="string">'middle-school'</span>: <span class="string">'\"W3C\" Middle School'</span>,</span><br><span class="line">    skills: [<span class="string">'JavaScript'</span>, <span class="string">'Java'</span>, <span class="string">'Python'</span>, <span class="string">'Lisp'</span>]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> json1 = <span class="built_in">JSON</span>.stringify(xiaoming);</span><br><span class="line"><span class="built_in">console</span>.log(json1);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">  "name": "小明",</span></span><br><span class="line"><span class="comment">  "age": 14,</span></span><br><span class="line"><span class="comment">  "gender": true,</span></span><br><span class="line"><span class="comment">  "height": 1.65,</span></span><br><span class="line"><span class="comment">  "grade": null,</span></span><br><span class="line"><span class="comment">  "middle-school": "\"W3C\" Middle School",</span></span><br><span class="line"><span class="comment">  "skills": [</span></span><br><span class="line"><span class="comment">    "JavaScript",</span></span><br><span class="line"><span class="comment">    "Java",</span></span><br><span class="line"><span class="comment">    "Python",</span></span><br><span class="line"><span class="comment">    "Lisp"</span></span><br><span class="line"><span class="comment">  ]</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h2 id="toJSON"><a href="#toJSON" class="headerlink" title="toJSON()"></a><code>toJSON()</code></h2><p>the toJSON() method customizes JSON stringification behavior: instead of the object being serialized, the value returned by the toJSON() method when called will be serialized.<br>其定制了序列化的行为<br>JSON.stringify() 会向JSON传递一个参数</p>
<ol>
<li>如果包含<code>toJSON</code>方法的对象是作为一个属性值，那么传入的key是这个属性的名称</li>
<li>如果包含<code>toJSON</code>方法的对象是<code>Array</code>中的一项，那么传入的<code>key</code>是index</li>
<li>如果包含<code>toJSON</code>方法的对象直接被序列化，那么传入的参数是空字符串<code>&quot;&quot;</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    data : <span class="string">'data'</span>,</span><br><span class="line">    toJSON(key) &#123;</span><br><span class="line">        <span class="keyword">if</span> (key) &#123;</span><br><span class="line">            <span class="keyword">return</span>  <span class="string">`Now I am a nested object udner key '<span class="subst">$&#123;key&#125;</span>'`</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">JSON</span>.stringify(obj);               <span class="comment">//'&#123;"data" : "data"&#125;</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(&#123;obj&#125;);            <span class="comment">//'&#123;"obj" : "Now I am a nested object under key 'obj'"&#125;'</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify([obj]);            <span class="comment">//'["Now I am a nested object under key '0'"]'</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h1 id="反序列化-deserialization"><a href="#反序列化-deserialization" class="headerlink" title="反序列化 deserialization"></a>反序列化 deserialization</h1><p>对于一个JSON字符串，<code>JSON.parse()</code>可以将其转化成一个JavaScript对象</p>
<blockquote>
<p>JSON.parse(text[, revivor])</p>
</blockquote>
<p>revivor类似replacer，转换解析出来的属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var obj = JSON.parse(&apos;&#123;&quot;name&quot;:&quot;小明&quot;,&quot;age&quot;:14&#125;&apos;, function (key, value) &#123;</span><br><span class="line">    if (key === &apos;name&apos;) &#123;</span><br><span class="line">        return value + &apos;同学&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">    return value;</span><br><span class="line">&#125;);</span><br><span class="line">console.log(JSON.stringify(obj));        // &#123;name: &apos;小明同学&apos;, age: 14&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h1 id="具体例子-格式化JSON数据"><a href="#具体例子-格式化JSON数据" class="headerlink" title="具体例子 : 格式化JSON数据"></a>具体例子 : 格式化JSON数据</h1><p>进入JSON数据网页<br>在console中使用 用<code>document.QuerySelector</code> 函数捕获到元素<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获得 pre标签下的html文本</span></span><br><span class="line"><span class="keyword">var</span> pre = <span class="built_in">document</span>.querySlector(<span class="string">'pre'</span>);</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string">`</span>innerHTML<span class="string">`得到转义之后的真实数据，例如`</span>&lt;<span class="string">` `</span>&gt;<span class="string">`在转义之后的`</span>&amp;lt;<span class="string">` `</span>&amp;gt;<span class="string">`等</span></span><br><span class="line"><span class="string">`</span>innerText<span class="string">` 则是得到未转义之前的显示形式，也是符号原有的样式</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>javascript</span><br><span class="line"><span class="keyword">var</span> pre_string = pre.innerText;</span><br></pre></td></tr></table></figure></p>
<p>将获得的JSON，反序列化(parse)<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pre_date = <span class="built_in">JSON</span>.parse(pre_string);</span><br></pre></td></tr></table></figure></p>
<p>为了获得更直观的数据表现，需要用到space参数<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(pre_data, <span class="literal">null</span>, <span class="number">4</span>);</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/2018/09/22/美梦/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="YNG`s Not Gu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="whalesea`s blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/2018/09/22/美梦/" itemprop="url">
                  美梦
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-22T01:28:34+08:00">
                2018-09-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/life/" itemprop="url" rel="index">
                    <span itemprop="name">life</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="到家"><a href="#到家" class="headerlink" title="到家"></a>到家</h2><p>在八点，余温未褪，寒意未起，在最熟悉的床上，做了一个关于大学的梦啊。</p>
<p>很美好，很向往，很勇敢。</p>
<h2 id="那么代价呢"><a href="#那么代价呢" class="headerlink" title="那么代价呢"></a>那么代价呢</h2><p>不知道啊。做什么都有代价，都有付出。<br>这样看似轻松的每天看书，敲代码，需要压榨精力，摆脱一天麻木的精神状态，用最fresh的态度去了解另外一门学科的知识。<br>那我还有什么时间呢</p>
<h2 id="减肥"><a href="#减肥" class="headerlink" title="减肥"></a>减肥</h2><p>我真的要减肥了<br>真的要减肥了<br>真的要减肥了</p>
<h2 id="变得勇敢点吧"><a href="#变得勇敢点吧" class="headerlink" title="变得勇敢点吧"></a>变得勇敢点吧</h2><p>个博的好处是在于晚上能发点牢骚，虽然给了几个pong友网址，也应该并不会来看，总是抱着希望能有人能发现我的世界，又希望我的世界能够深藏于万维世界之中。好了，我要看书了！</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/2018/09/21/RegExp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="YNG`s Not Gu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="whalesea`s blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/2018/09/21/RegExp/" itemprop="url">
                  正则表达式RegExp
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-21T01:10:00+08:00">
                2018-09-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/网络编程/" itemprop="url" rel="index">
                    <span itemprop="name">网络编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h2 id="正则表达式知识"><a href="#正则表达式知识" class="headerlink" title="正则表达式知识"></a>正则表达式知识</h2><h3 id="正则表达式基础"><a href="#正则表达式基础" class="headerlink" title="正则表达式基础"></a>正则表达式基础</h3><p>直接给出字符可以精确匹配<br>通用匹配</p>
<ol>
<li><code>\d</code> 匹配一个数字</li>
<li><code>\w</code> 匹配一个字母</li>
<li><code>.</code> 匹配任意字符</li>
<li><code>\s</code> 匹配空格，<code>\t</code></li>
</ol>
<p>多字符匹配</p>
<ol>
<li><code>*</code> 表示前面的规则应用任意个字符</li>
<li><code>+</code> 表示匹配至少一个字符</li>
<li><code>?</code> 表示匹配0~1个字符</li>
<li><code>{n}</code> 表示精确指定n个字符串</li>
<li><code>{n,m}</code> 表示匹配n~m个字符</li>
</ol>
<h3 id="正则表达式进阶"><a href="#正则表达式进阶" class="headerlink" title="正则表达式进阶"></a>正则表达式进阶</h3><p>[范围规则ruler]表示一个字符在范围内匹配</p>
<ol>
<li>[0-9]                   匹配一个数字</li>
<li>[0-9A-Za-z]        匹配一个数字或者字母</li>
<li>[0-9A-Za-z_]     匹配一个数字或者字母或者下划线</li>
<li>[0-9A-Za-z_] +  匹配至少一个(数字或者字母或者下划线) 例如 <code>&#39;a110&#39;</code>, <code>&#39;0_Z&#39;</code>, <code>&#39;js2015&#39;</code></li>
<li>多个[ ]组合 [a-zA-Z_\$][0-9a-zA-Z]{0, 19} 精确指定长度为1-20个字符 (前面一个字符开头，后面0~19个指定字符)</li>
</ol>
<p><code>A|B</code> 表示匹配A或者B <code>(J|j)ava(S|s)cript</code>可以匹配’JavaScript’, ‘javascript’等<br><code>^</code> 表示后面的规则应用于第一个字符        <code>^\d</code>表示以一个数字开头<br>‘$’  表示前面的规则应用于最后一个字符    ‘\d$` 表示一一个数字结尾</p>
<p>需要转义的字符</p>
<ol>
<li>保留字符<ul>
<li><code>+</code> — <code>\+</code></li>
<li><code>*</code> — <code>\*</code></li>
<li><code>?</code> — <code>\?</code>  </li>
<li><code>$</code> — <code>\$</code></li>
<li><code>.</code> — <code>\.</code></li>
<li><code>[</code> <code>]</code> — <code>\[</code> <code>\]</code></li>
<li><code>{</code> <code>}</code> — <code>\{</code> <code>\}</code></li>
<li><code>(</code> <code>)</code> — <code>\(</code> <code>\)</code></li>
<li><code>|</code> — <code>\|</code></li>
<li><code>/</code> — <code>\/</code></li>
</ul>
</li>
<li>制表，换行，空(null)，垂直制表，换页，空格  — <code>\t</code>  <code>\n</code>  <code>\0</code> <code>\v</code>  <code>\f</code> <code>\s</code></li>
</ol>
<hr>
<h2 id="JavaScript中的RegExp"><a href="#JavaScript中的RegExp" class="headerlink" title="JavaScript中的RegExp"></a>JavaScript中的RegExp</h2><p>javascript中有两种创建正则表达式的方式</p>
<ol>
<li><code>/正则表达式/</code> 赋值给变量</li>
<li><code>new RegExp(&#39;正则表达式&#39;)</code> 创建一个<code>RegExp</code>对象</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> re1 = <span class="regexp">/ABC\-001/</span>;                   <span class="comment">//方法1</span></span><br><span class="line"><span class="keyword">var</span> re2 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'ABC\\-001'</span>);      <span class="comment">//方法2</span></span><br><span class="line">re1;     <span class="comment">// /ABC\-001/</span></span><br><span class="line">re2;     <span class="comment">// /ABC\-001/</span></span><br></pre></td></tr></table></figure>
<p>第二种方法时，字符中需要转义，<code>\\</code>表示转义出一个<code>\</code></p>
<h3 id="判断正则表达式是否匹配"><a href="#判断正则表达式是否匹配" class="headerlink" title="判断正则表达式是否匹配"></a>判断正则表达式是否匹配</h3><p><code>RegExp.test(testString)</code><br>使用<code>test</code>方法来测定给定的字符串是否符合条件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> re = <span class="regexp">/^d&#123;3&#125;\-\d(3,8&#125;$/</span>;</span><br><span class="line">re.test(<span class="string">'010-12345'</span>);     <span class="comment">// true</span></span><br><span class="line">re.test(<span class="string">'010-1234x'</span>);     <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<h3 id="切分字符串"><a href="#切分字符串" class="headerlink" title="切分字符串"></a>切分字符串</h3><p><code>string.split(/正则表达式/);</code><br><code>string</code>中去除符合正则表达式的子字符(串)，然后剩下的子字符串组形成一个<code>Array</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'a b;;  ,,,  c'</span>.split(<span class="regexp">/[\s\;\,]+/</span>);   <span class="comment">//['a', 'b', 'c']</span></span><br></pre></td></tr></table></figure>
<h3 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h3><p>类似于python re.math中分组后的group<br>正则表达式中，用<code>()</code>包括起来的就是需要提取的分组(group)<br><code>RegExp.exec(String)</code>就可以将<strong>符合正则表达式的字符串</strong>，按组提取出子字符串，将其组合成一个<code>Array</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> re = <span class="regexp">/^(\d&#123;3&#125;-(\d&#123;3,8&#125;$/</span>;</span><br><span class="line">re.exec(<span class="string">'010-12345'</span>);        <span class="comment">// ['010-12345', '010', '12345']</span></span><br><span class="line">re.exec(<span class="string">'010 12345'</span>);        <span class="comment">// null</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="贪婪匹配"><a href="#贪婪匹配" class="headerlink" title="贪婪匹配"></a>贪婪匹配</h2><p>正则匹配默认是贪婪匹配，也就是匹配尽可能多的字符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var re = /^(\d+)(0*)$/;</span><br><span class="line">re.exec(&apos;102300&apos;);        // [&apos;102300&apos;, &apos;102300&apos;, &apos;&apos;]</span><br></pre></td></tr></table></figure></p>
<p><code>\d+</code>把所有<code>0</code>都匹配了</p>
<h3 id="进入非贪婪模式"><a href="#进入非贪婪模式" class="headerlink" title="进入非贪婪模式"></a>进入非贪婪模式</h3><p>默认是贪婪模式；在<strong>量词</strong>后面直接加上一个<code>？</code>就是非贪婪模式<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> re = <span class="regexp">/^(\d+?)(0*)$/</span>;</span><br><span class="line">re.exec(<span class="string">'102300'</span>);          <span class="comment">//['102300', '102, '00']</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="全局搜索"><a href="#全局搜索" class="headerlink" title="全局搜索"></a>全局搜索</h2><p>JavaScript有特殊标志 - 其中较为特殊的是<code>g</code>，表示全局匹配<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> r1 = <span class="regexp">/test/g</span>;</span><br><span class="line"><span class="comment">//等价于</span></span><br><span class="line"><span class="keyword">var</span> r1 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'test'</span>, <span class="string">'g'</span>);</span><br></pre></td></tr></table></figure></p>
<p>全局可以多次执行<code>exex()</code>方法，去搜索字符串中符合的子字符串<br>当使用全局搜索时，每次运行<code>exec()</code>， 正则表达式会更新<code>lastIndex</code>属性，其表示上次匹配的最后的索引<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="string">'JavaScript, VBSript, ECMAScript'</span>;</span><br><span class="line"><span class="keyword">var</span> pattern1 = <span class="regexp">/[a-zA-Z]+Script/g</span>;</span><br><span class="line"><span class="comment">// 使用全局匹配:</span></span><br><span class="line">re.exec(s);      <span class="comment">// ['JavaScript']</span></span><br><span class="line">re.lastIndex;    <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line">re.exec(s);      <span class="comment">// ['VBScript']</span></span><br><span class="line">re.lastIndex;    <span class="comment">// 20</span></span><br><span class="line"></span><br><span class="line">re.exec(s);      <span class="comment">// ['JScript']</span></span><br><span class="line">re.lastIndex;    <span class="comment">// 29</span></span><br><span class="line"></span><br><span class="line">re.exec(s);      <span class="comment">// ['ECMAScript']</span></span><br><span class="line">re.lastIndex;    <span class="comment">// 44</span></span><br><span class="line"></span><br><span class="line">re.exec(s);      <span class="comment">// null，直到结束仍没有匹配到</span></span><br></pre></td></tr></table></figure></p>
<p>全局匹配类似搜索，因此不能使用<code>/^...$/</code>，那样只会最多匹配一次</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/blog/2018/09/20/方法-对象中的函数/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="YNG`s Not Gu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="whalesea`s blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/2018/09/20/方法-对象中的函数/" itemprop="url">
                  方法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-20T23:58:39+08:00">
                2018-09-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/网络编程/" itemprop="url" rel="index">
                    <span itemprop="name">网络编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h2 id="方法-对象中绑定函数"><a href="#方法-对象中绑定函数" class="headerlink" title="方法 - 对象中绑定函数"></a>方法 - 对象中绑定函数</h2><p>在一个对象中绑定函数，则称之为方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var xiaoming = &#123;</span><br><span class="line">    name : &apos;小明‘，</span><br><span class="line">    birth : 1990</span><br><span class="line">    age: function() &#123;</span><br><span class="line">            var y = new Data().getFullYear();</span><br><span class="line">            return y - this.birth;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">xiaoming.age; // fuction xiaoing.age</span><br><span class="line">xiaoming.age(); //2018 - 1990</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="this-关键字"><a href="#this-关键字" class="headerlink" title="this 关键字"></a>this 关键字</h2><p>绑定到对象的函数成为方法，但在内部使用了一个this关键字，对就是那个this/self<br><code>this</code>是一个特殊变量，它始终指向当前对象。访问同一对象的其他属性时，需要用到<code>this</code>变量。</p>
<h3 id="this关键字的坑"><a href="#this关键字的坑" class="headerlink" title="this关键字的坑"></a>this关键字的坑</h3><p>this的指向很迷<br>JavaScript函数内部调用的<code>this</code>，其所指的对象视情况而定</p>
<ol>
<li>如果被对象的方式调用，则只想被调用的对象 </li>
<li><strong>如果单独调用，则<code>this</code>指向全局对象，也就是<code>windows</code></strong></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAge</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">    <span class="keyword">return</span> y - <span class="keyword">this</span>.birth;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line">    name: <span class="string">'小明'</span>,</span><br><span class="line">    birth: <span class="number">1990</span>,</span><br><span class="line">    age: getAge</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">xiaoming.age() <span class="comment">// 2018 - 1990</span></span><br><span class="line">getAge(); <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>
<p>甚至以下情况也会错误</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fn = xiaoming.age;</span><br><span class="line">fn(); <span class="comment">//NaN</span></span><br></pre></td></tr></table></figure>
<h4 id="obj-xxx来调用正确的this"><a href="#obj-xxx来调用正确的this" class="headerlink" title="obj.xxx来调用正确的this"></a><code>obj.xxx</code>来调用正确的<code>this</code></h4><p>要保证<code>this</code>指向正确，一定要用<code>obj.xxx</code>来调用正确的<code>this</code></p>
<p>ECMA决定，在strict模式下，让函数模式下的<code>this</code>指向<code>undefined</code>，因此，在strict的模式下，会<code></code>raise Error`</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line">    name: <span class="string">'小明'</span>,</span><br><span class="line">    birth: <span class="number">1990</span>,</span><br><span class="line">    age: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">        <span class="keyword">return</span> y - <span class="keyword">this</span>.birth;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> fn = xiaoming.age;</span><br><span class="line">fn(); <span class="comment">// Uncaught TypeError: Cannot read property 'birth' of undefined</span></span><br></pre></td></tr></table></figure>
<h4 id="方法的this-方法内部函数的this"><a href="#方法的this-方法内部函数的this" class="headerlink" title="方法的this/方法内部函数的this"></a>方法的this/方法内部函数的this</h4><p>方法内部函数中的<code>this</code>又指向<code>udnefined</code> / 在非<code>strict</code>模式下，指向<code>window</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line">    name: <span class="string">'小明'</span>,</span><br><span class="line">    birth: <span class="number">1990</span>,</span><br><span class="line">    age: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">getAgeFromBirth</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> y = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">            <span class="keyword">return</span> y - <span class="keyword">this</span>.birth;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> getAgeFromBirth();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">xiaoming.age(); <span class="comment">// Uncaught TypeError: Cannot read property 'birth' of undefined</span></span><br></pre></td></tr></table></figure>
<h4 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h4><p>用<code>that</code>变量捕获<code>this</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xiaoing = &#123;</span><br><span class="line">    name: <span class="string">'小明'</span>,</span><br><span class="line">    birth: <span class="number">1990</span>,</span><br><span class="line">    age: fuction () &#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line">    fucntion getAgeFromBirth() &#123;</span><br><span class="line">        <span class="keyword">var</span> y = <span class="keyword">new</span> Data().getFullYear();</span><br><span class="line">        <span class="keyword">return</span> y - that.birth;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">xiaoing.age; <span class="comment">// 2018 - 1990</span></span><br></pre></td></tr></table></figure>
<p>在<code>var that = this;</code>（方法内部使用this赋值给that）后，在方法内部函数中，可以放心地调用that。</p>
<hr>
<h2 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h2><p>函数本身具有<code>apply</code>方法，接受两个参数 - 1，需要绑定<code>this</code>的变量。2，<code>Array</code>，表示本来要传传递给函数的参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fucntion getAge() &#123;</span><br><span class="line">    <span class="keyword">var</span> y = <span class="keyword">new</span> Data().getFullYear();</span><br><span class="line">    <span class="keyword">return</span> y - <span class="keyword">this</span>.birth;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> xiaoming = &#123;</span><br><span class="line">    name: <span class="string">'小明'</span>,</span><br><span class="line">    birth: <span class="number">1990</span>,</span><br><span class="line">    age: getAge</span><br><span class="line">&#125;;</span><br><span class="line">xioaming.age(); <span class="comment">//25</span></span><br><span class="line">getAge.apple(xiaoming,[]); <span class="comment">//传递空Array, apply指定this指向xiaoming</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="call"><a href="#call" class="headerlink" title="call"></a>call</h2><p>与<code>apply</code>类似，区别在于</p>
<ol>
<li><code>fucntion.apply()</code> 把传递给function的参数打包在一个<code>Array</code>中</li>
<li><code>call()</code>把参数按顺序传入</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]);</span><br><span class="line"><span class="built_in">Math</span>.max.call(<span class="literal">null</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="YNG`s Not Gu" />
          <p class="site-author-name" itemprop="name">YNG`s Not Gu</p>
           
              <p class="site-description motion-element" itemprop="description">life is short, fuck the world</p>
          
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">37</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Whalesea-Gustav" target="_blank" title="Github">
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/a-si-pi-25/activities" target="_blank" title="Zhihu">
                  
                  Zhihu
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">YNG`s Not Gu</span>
</div>


<div class="powered-by">
  可能努力也不会有好结果
</div>

<div class="theme-info">
  那不是不努力的理由 

</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


  

</body>
</html>
